<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XPMP2: XPMP2-Remote/Client.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XPMP2
   </div>
   <div id="projectbrief">X-Plane multiplayer library 2 - using instancing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ee4fc00837492ac40974302c5064a581.html">XPMP2-Remote</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Client.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main Client functionality, processing received data.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="XPMP2-Remote_8h_source.html">XPMP2-Remote.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3bf7418fac5b94b1e1aec8e4d375f29a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a3bf7418fac5b94b1e1aec8e4d375f29a">INFO_NEW_SENDER_PLUGIN</a>&#160;&#160;&#160;&quot;First data received from %.*s (%u) @ %s&quot;</td></tr>
<tr class="separator:a3bf7418fac5b94b1e1aec8e4d375f29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1535415b9b7f418104892a34806533d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a1535415b9b7f418104892a34806533d4">INFO_SENDER_PLUGIN_LOST</a>&#160;&#160;&#160;&quot;Sender %.*s (%u) @ %s fell silent, removed&quot;</td></tr>
<tr class="separator:a1535415b9b7f418104892a34806533d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d3aea35cbd1ab63bdc0ac831677691"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a40d3aea35cbd1ab63bdc0ac831677691">WARN_LOST_PLANE_CONTACT</a>&#160;&#160;&#160;&quot;Lost contact to plane 0x%06X of %.*s (%u) @ %s&quot;</td></tr>
<tr class="separator:a40d3aea35cbd1ab63bdc0ac831677691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f44e3dcd049ae0bc31e28b80b282cf4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a6f44e3dcd049ae0bc31e28b80b282cf4">INFO_GOT_AI_CONTROL</a>&#160;&#160;&#160;&quot;Have TCAS / AI control now&quot;</td></tr>
<tr class="separator:a6f44e3dcd049ae0bc31e28b80b282cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aeb7ba784e7c1be612a523bf045191a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a8aeb7ba784e7c1be612a523bf045191a">INFO_DEACTIVATED</a>&#160;&#160;&#160;&quot;Deactivated, stopped listening to network&quot;</td></tr>
<tr class="separator:a8aeb7ba784e7c1be612a523bf045191a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40e8460a0a12a773f049f76b56caba83"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a40e8460a0a12a773f049f76b56caba83">memcpy_min</a>(to,  from)&#160;&#160;&#160;std::memcpy(to,from,std::min(sizeof(from),sizeof(to)))</td></tr>
<tr class="separator:a40e8460a0a12a773f049f76b56caba83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a705abfe37dd6794712e51e1f54db945c"><td class="memItemLeft" align="right" valign="top">std::unique_lock&lt; std::mutex &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a705abfe37dd6794712e51e1f54db945c">glockDataMain</a> (<a class="el" href="Client_8cpp.html#ad95e1ddc365d2cbb85b5dc4737ad2e5d">gmutexData</a>, std::defer_lock)</td></tr>
<tr class="memdesc:a705abfe37dd6794712e51e1f54db945c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The lock used by <em>main thread</em> functions to acquire data access.  <a href="Client_8cpp.html#a705abfe37dd6794712e51e1f54db945c">More...</a><br /></td></tr>
<tr class="separator:a705abfe37dd6794712e51e1f54db945c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5fe00e682d6b47c20855241743fe22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a9c5fe00e682d6b47c20855241743fe22">ClientTryGetAI</a> ()</td></tr>
<tr class="memdesc:a9c5fe00e682d6b47c20855241743fe22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try getting TCAS/AI control.  <a href="Client_8cpp.html#a9c5fe00e682d6b47c20855241743fe22">More...</a><br /></td></tr>
<tr class="separator:a9c5fe00e682d6b47c20855241743fe22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab840514b45a210462a9a45ac7c282cd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#ab840514b45a210462a9a45ac7c282cd9">ClientCBRetryGetAI</a> (void *)</td></tr>
<tr class="memdesc:ab840514b45a210462a9a45ac7c282cd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for requesting TCAS: Maybe now we have a chance?  <a href="Client_8cpp.html#ab840514b45a210462a9a45ac7c282cd9">More...</a><br /></td></tr>
<tr class="separator:ab840514b45a210462a9a45ac7c282cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4a304dbb7ad9d25b7d2e8ddb0ff7df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a8d4a304dbb7ad9d25b7d2e8ddb0ff7df">ClientReleaseAI</a> ()</td></tr>
<tr class="memdesc:a8d4a304dbb7ad9d25b7d2e8ddb0ff7df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop TCAS/AI control.  <a href="Client_8cpp.html#a8d4a304dbb7ad9d25b7d2e8ddb0ff7df">More...</a><br /></td></tr>
<tr class="separator:a8d4a304dbb7ad9d25b7d2e8ddb0ff7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060988d1227c2ca8f60b5d8060cf64c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a060988d1227c2ca8f60b5d8060cf64c0">ClientProcSettings</a> (const std::uint32_t from[4], const std::string &amp;sFrom, const <a class="el" href="structXPMP2_1_1RemoteMsgSettingsTy.html">XPMP2::RemoteMsgSettingsTy</a> &amp;_msgSettings)</td></tr>
<tr class="memdesc:a060988d1227c2ca8f60b5d8060cf64c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles a received Settings message, which also identifies a sending plugin.  <a href="Client_8cpp.html#a060988d1227c2ca8f60b5d8060cf64c0">More...</a><br /></td></tr>
<tr class="separator:a060988d1227c2ca8f60b5d8060cf64c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54eb4a167117ace8e5e4bb8af799866d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a54eb4a167117ace8e5e4bb8af799866d">ClientFlightLoopBegins</a> ()</td></tr>
<tr class="memdesc:a54eb4a167117ace8e5e4bb8af799866d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called at the beginning of each flight loop processing: Get the data lock, create waiting planes.  <a href="Client_8cpp.html#a54eb4a167117ace8e5e4bb8af799866d">More...</a><br /></td></tr>
<tr class="separator:a54eb4a167117ace8e5e4bb8af799866d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a094653312719bdf90b5f0c421a42d53c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a094653312719bdf90b5f0c421a42d53c">ClientFlightLoopEnds</a> () noexcept</td></tr>
<tr class="memdesc:a094653312719bdf90b5f0c421a42d53c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called at the end of each flight loop processing: Release the data lock.  <a href="Client_8cpp.html#a094653312719bdf90b5f0c421a42d53c">More...</a><br /></td></tr>
<tr class="separator:a094653312719bdf90b5f0c421a42d53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af99b297c2046aeb9d044d22ac769dea3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#af99b297c2046aeb9d044d22ac769dea3">ClientProcAcDetails</a> (const std::uint32_t _from[4], size_t _msgLen, const <a class="el" href="structXPMP2_1_1RemoteMsgAcDetailTy.html">XPMP2::RemoteMsgAcDetailTy</a> &amp;_msgAcDetails)</td></tr>
<tr class="memdesc:af99b297c2046aeb9d044d22ac769dea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle A/C Details messages, called by <a class="el" href="namespaceXPMP2.html">XPMP2</a> via callback.  <a href="Client_8cpp.html#af99b297c2046aeb9d044d22ac769dea3">More...</a><br /></td></tr>
<tr class="separator:af99b297c2046aeb9d044d22ac769dea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ce8ba6f58d5b8c90c1cc5d64311937"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a81ce8ba6f58d5b8c90c1cc5d64311937">ClientProcAcPosUpdate</a> (const std::uint32_t _from[4], size_t _msgLen, const <a class="el" href="structXPMP2_1_1RemoteMsgAcPosUpdateTy.html">XPMP2::RemoteMsgAcPosUpdateTy</a> &amp;_msgAcPosUpdate)</td></tr>
<tr class="memdesc:a81ce8ba6f58d5b8c90c1cc5d64311937"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle A/C Position Update message, called by <a class="el" href="namespaceXPMP2.html">XPMP2</a> via callback.  <a href="Client_8cpp.html#a81ce8ba6f58d5b8c90c1cc5d64311937">More...</a><br /></td></tr>
<tr class="separator:a81ce8ba6f58d5b8c90c1cc5d64311937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf27ed8d0458c280b13f0f7620c3fcd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#addf27ed8d0458c280b13f0f7620c3fcd">ClientProcAcAnim</a> (const std::uint32_t _from[4], size_t _msgLen, const <a class="el" href="structXPMP2_1_1RemoteMsgAcAnimTy.html">XPMP2::RemoteMsgAcAnimTy</a> &amp;_msgAcAnim)</td></tr>
<tr class="memdesc:addf27ed8d0458c280b13f0f7620c3fcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle A/C Animation dataRef messages, called by <a class="el" href="namespaceXPMP2.html">XPMP2</a> via callback.  <a href="Client_8cpp.html#addf27ed8d0458c280b13f0f7620c3fcd">More...</a><br /></td></tr>
<tr class="separator:addf27ed8d0458c280b13f0f7620c3fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52e1f607ba8bfe4e4fb5b38f62b38368"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a52e1f607ba8bfe4e4fb5b38f62b38368">ClientProcAcRemove</a> (const std::uint32_t _from[4], size_t _msgLen, const <a class="el" href="structXPMP2_1_1RemoteMsgAcRemoveTy.html">XPMP2::RemoteMsgAcRemoveTy</a> &amp;_msgAcRemove)</td></tr>
<tr class="memdesc:a52e1f607ba8bfe4e4fb5b38f62b38368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle A/C Removal message, called by <a class="el" href="namespaceXPMP2.html">XPMP2</a> via callback.  <a href="Client_8cpp.html#a52e1f607ba8bfe4e4fb5b38f62b38368">More...</a><br /></td></tr>
<tr class="separator:a52e1f607ba8bfe4e4fb5b38f62b38368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9468b490f91608f7a52052855e631e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#ab9468b490f91608f7a52052855e631e7">ClientInit</a> ()</td></tr>
<tr class="memdesc:ab9468b490f91608f7a52052855e631e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the module.  <a href="Client_8cpp.html#ab9468b490f91608f7a52052855e631e7">More...</a><br /></td></tr>
<tr class="separator:ab9468b490f91608f7a52052855e631e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e644bbbd23be9424128fbc9a10024fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a3e644bbbd23be9424128fbc9a10024fe">ClientCleanup</a> ()</td></tr>
<tr class="memdesc:a3e644bbbd23be9424128fbc9a10024fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down the module gracefully.  <a href="Client_8cpp.html#a3e644bbbd23be9424128fbc9a10024fe">More...</a><br /></td></tr>
<tr class="separator:a3e644bbbd23be9424128fbc9a10024fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2636a7e0bb1270d44e9b65851648205d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a2636a7e0bb1270d44e9b65851648205d">ClientToggleActive</a> (int nForce)</td></tr>
<tr class="memdesc:a2636a7e0bb1270d44e9b65851648205d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggles the cient's activitiy status, as based on menu command.  <a href="Client_8cpp.html#a2636a7e0bb1270d44e9b65851648205d">More...</a><br /></td></tr>
<tr class="separator:a2636a7e0bb1270d44e9b65851648205d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae34c2f3cb61256993d03e7d8bf46b1c1"><td class="memItemLeft" align="right" valign="top">std::chrono::time_point&lt; std::chrono::steady_clock &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#ae34c2f3cb61256993d03e7d8bf46b1c1">nowFlightLoop</a></td></tr>
<tr class="memdesc:ae34c2f3cb61256993d03e7d8bf46b1c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains 'now' at the time the flight loop starts.  <a href="Client_8cpp.html#ae34c2f3cb61256993d03e7d8bf46b1c1">More...</a><br /></td></tr>
<tr class="separator:ae34c2f3cb61256993d03e7d8bf46b1c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb28ba32c8bbc77899a698b5f1bdb10a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#adb28ba32c8bbc77899a698b5f1bdb10a">bWaitingForAI</a> = false</td></tr>
<tr class="memdesc:adb28ba32c8bbc77899a698b5f1bdb10a"><td class="mdescLeft">&#160;</td><td class="mdescRight">have we requested AI access and are now waiting for a callback?  <a href="Client_8cpp.html#adb28ba32c8bbc77899a698b5f1bdb10a">More...</a><br /></td></tr>
<tr class="separator:adb28ba32c8bbc77899a698b5f1bdb10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad95e1ddc365d2cbb85b5dc4737ad2e5d"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#ad95e1ddc365d2cbb85b5dc4737ad2e5d">gmutexData</a></td></tr>
<tr class="separator:ad95e1ddc365d2cbb85b5dc4737ad2e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad724708deadff6109ce820805d1ccd30"><td class="memItemLeft" align="right" valign="top">std::atomic_flag&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#ad724708deadff6109ce820805d1ccd30">gbSkipSettingsUpdate</a> = ATOMIC_FLAG_INIT</td></tr>
<tr class="memdesc:ad724708deadff6109ce820805d1ccd30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if it is needed in the main thread to process updates to settings.  <a href="Client_8cpp.html#ad724708deadff6109ce820805d1ccd30">More...</a><br /></td></tr>
<tr class="separator:ad724708deadff6109ce820805d1ccd30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70fe19143be09a879a54326f600a448c"><td class="memItemLeft" align="right" valign="top">std::atomic_flag&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Client_8cpp.html#a70fe19143be09a879a54326f600a448c">gbSkipAcMaintenance</a> = ATOMIC_FLAG_INIT</td></tr>
<tr class="memdesc:a70fe19143be09a879a54326f600a448c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if it is needed in the main thread to process new aircraft.  <a href="Client_8cpp.html#a70fe19143be09a879a54326f600a448c">More...</a><br /></td></tr>
<tr class="separator:a70fe19143be09a879a54326f600a448c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main Client functionality, processing received data. </p>
<dl class="section author"><dt>Author</dt><dd>Birger Hoppe </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>(c) 2020 Birger Hoppe </dd>
<dd>
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:<br  />
 The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.<br  />
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8aeb7ba784e7c1be612a523bf045191a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aeb7ba784e7c1be612a523bf045191a">&#9670;&nbsp;</a></span>INFO_DEACTIVATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_DEACTIVATED&#160;&#160;&#160;&quot;Deactivated, stopped listening to network&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6f44e3dcd049ae0bc31e28b80b282cf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f44e3dcd049ae0bc31e28b80b282cf4">&#9670;&nbsp;</a></span>INFO_GOT_AI_CONTROL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_GOT_AI_CONTROL&#160;&#160;&#160;&quot;Have TCAS / AI control now&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3bf7418fac5b94b1e1aec8e4d375f29a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf7418fac5b94b1e1aec8e4d375f29a">&#9670;&nbsp;</a></span>INFO_NEW_SENDER_PLUGIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_NEW_SENDER_PLUGIN&#160;&#160;&#160;&quot;First data received from %.*s (%u) @ %s&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1535415b9b7f418104892a34806533d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1535415b9b7f418104892a34806533d4">&#9670;&nbsp;</a></span>INFO_SENDER_PLUGIN_LOST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_SENDER_PLUGIN_LOST&#160;&#160;&#160;&quot;Sender %.*s (%u) @ %s fell silent, removed&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a40e8460a0a12a773f049f76b56caba83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40e8460a0a12a773f049f76b56caba83">&#9670;&nbsp;</a></span>memcpy_min</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define memcpy_min</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">to, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">from&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;std::memcpy(to,from,std::min(sizeof(from),sizeof(to)))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a40d3aea35cbd1ab63bdc0ac831677691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d3aea35cbd1ab63bdc0ac831677691">&#9670;&nbsp;</a></span>WARN_LOST_PLANE_CONTACT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WARN_LOST_PLANE_CONTACT&#160;&#160;&#160;&quot;Lost contact to plane 0x%06X of %.*s (%u) @ %s&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab840514b45a210462a9a45ac7c282cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab840514b45a210462a9a45ac7c282cd9">&#9670;&nbsp;</a></span>ClientCBRetryGetAI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientCBRetryGetAI </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for requesting TCAS: Maybe now we have a chance? </p>

</div>
</div>
<a id="a3e644bbbd23be9424128fbc9a10024fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e644bbbd23be9424128fbc9a10024fe">&#9670;&nbsp;</a></span>ClientCleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientCleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shuts down the module gracefully. </p>

</div>
</div>
<a id="a54eb4a167117ace8e5e4bb8af799866d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54eb4a167117ace8e5e4bb8af799866d">&#9670;&nbsp;</a></span>ClientFlightLoopBegins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientFlightLoopBegins </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called at the beginning of each flight loop processing: Get the data lock, create waiting planes. </p>

</div>
</div>
<a id="a094653312719bdf90b5f0c421a42d53c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a094653312719bdf90b5f0c421a42d53c">&#9670;&nbsp;</a></span>ClientFlightLoopEnds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ClientFlightLoopEnds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called at the end of each flight loop processing: Release the data lock. </p>

</div>
</div>
<a id="ab9468b490f91608f7a52052855e631e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9468b490f91608f7a52052855e631e7">&#9670;&nbsp;</a></span>ClientInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the module. </p>

</div>
</div>
<a id="addf27ed8d0458c280b13f0f7620c3fcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addf27ed8d0458c280b13f0f7620c3fcd">&#9670;&nbsp;</a></span>ClientProcAcAnim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientProcAcAnim </td>
          <td>(</td>
          <td class="paramtype">const std::uint32_t&#160;</td>
          <td class="paramname"><em>_from</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_msgLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structXPMP2_1_1RemoteMsgAcAnimTy.html">XPMP2::RemoteMsgAcAnimTy</a> &amp;&#160;</td>
          <td class="paramname"><em>_msgAcAnim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle A/C Animation dataRef messages, called by <a class="el" href="namespaceXPMP2.html">XPMP2</a> via callback. </p>

</div>
</div>
<a id="af99b297c2046aeb9d044d22ac769dea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af99b297c2046aeb9d044d22ac769dea3">&#9670;&nbsp;</a></span>ClientProcAcDetails()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientProcAcDetails </td>
          <td>(</td>
          <td class="paramtype">const std::uint32_t&#160;</td>
          <td class="paramname"><em>_from</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_msgLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structXPMP2_1_1RemoteMsgAcDetailTy.html">XPMP2::RemoteMsgAcDetailTy</a> &amp;&#160;</td>
          <td class="paramname"><em>_msgAcDetails</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle A/C Details messages, called by <a class="el" href="namespaceXPMP2.html">XPMP2</a> via callback. </p>
<ol type="1">
<li>If the aircraft does not exist create it<ol type="a">
<li>Else update it's data </li>
</ol>
</li>
</ol>

</div>
</div>
<a id="a81ce8ba6f58d5b8c90c1cc5d64311937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ce8ba6f58d5b8c90c1cc5d64311937">&#9670;&nbsp;</a></span>ClientProcAcPosUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientProcAcPosUpdate </td>
          <td>(</td>
          <td class="paramtype">const std::uint32_t&#160;</td>
          <td class="paramname"><em>_from</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_msgLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structXPMP2_1_1RemoteMsgAcPosUpdateTy.html">XPMP2::RemoteMsgAcPosUpdateTy</a> &amp;&#160;</td>
          <td class="paramname"><em>_msgAcPosUpdate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle A/C Position Update message, called by <a class="el" href="namespaceXPMP2.html">XPMP2</a> via callback. </p>

</div>
</div>
<a id="a52e1f607ba8bfe4e4fb5b38f62b38368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52e1f607ba8bfe4e4fb5b38f62b38368">&#9670;&nbsp;</a></span>ClientProcAcRemove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientProcAcRemove </td>
          <td>(</td>
          <td class="paramtype">const std::uint32_t&#160;</td>
          <td class="paramname"><em>_from</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_msgLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structXPMP2_1_1RemoteMsgAcRemoveTy.html">XPMP2::RemoteMsgAcRemoveTy</a> &amp;&#160;</td>
          <td class="paramname"><em>_msgAcRemove</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle A/C Removal message, called by <a class="el" href="namespaceXPMP2.html">XPMP2</a> via callback. </p>

</div>
</div>
<a id="a060988d1227c2ca8f60b5d8060cf64c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a060988d1227c2ca8f60b5d8060cf64c0">&#9670;&nbsp;</a></span>ClientProcSettings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientProcSettings </td>
          <td>(</td>
          <td class="paramtype">const std::uint32_t&#160;</td>
          <td class="paramname"><em>from</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sFrom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structXPMP2_1_1RemoteMsgSettingsTy.html">XPMP2::RemoteMsgSettingsTy</a> &amp;&#160;</td>
          <td class="paramname"><em>_msgSettings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles a received Settings message, which also identifies a sending plugin. </p>
<ol type="1">
<li>Plugin information is stored in gmapSender.<ol type="a">
<li>A "merged" version of all sender plugins' settings is created, make a per-field decision for the more significant value. This merged version shall become our local settings.</li>
<li>In a last step the changes to current actual settings are determined and necessary action taken. </li>
</ol>
</li>
</ol>

</div>
</div>
<a id="a8d4a304dbb7ad9d25b7d2e8ddb0ff7df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4a304dbb7ad9d25b7d2e8ddb0ff7df">&#9670;&nbsp;</a></span>ClientReleaseAI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientReleaseAI </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop TCAS/AI control. </p>

</div>
</div>
<a id="a2636a7e0bb1270d44e9b65851648205d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2636a7e0bb1270d44e9b65851648205d">&#9670;&nbsp;</a></span>ClientToggleActive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientToggleActive </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nForce</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Toggles the cient's activitiy status, as based on menu command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nForce</td><td>3-way toggle: <code>-1? force off,</code>0<code>toggle,</code>+1` force on </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c5fe00e682d6b47c20855241743fe22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c5fe00e682d6b47c20855241743fe22">&#9670;&nbsp;</a></span>ClientTryGetAI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClientTryGetAI </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try getting TCAS/AI control. </p>

</div>
</div>
<a id="a705abfe37dd6794712e51e1f54db945c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a705abfe37dd6794712e51e1f54db945c">&#9670;&nbsp;</a></span>glockDataMain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_lock&lt;std::mutex&gt; glockDataMain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Client_8cpp.html#ad95e1ddc365d2cbb85b5dc4737ad2e5d">gmutexData</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::defer_lock&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The lock used by <em>main thread</em> functions to acquire data access. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="adb28ba32c8bbc77899a698b5f1bdb10a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb28ba32c8bbc77899a698b5f1bdb10a">&#9670;&nbsp;</a></span>bWaitingForAI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bWaitingForAI = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>have we requested AI access and are now waiting for a callback? </p>

</div>
</div>
<a id="a70fe19143be09a879a54326f600a448c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70fe19143be09a879a54326f600a448c">&#9670;&nbsp;</a></span>gbSkipAcMaintenance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_flag gbSkipAcMaintenance = ATOMIC_FLAG_INIT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates if it is needed in the main thread to process new aircraft. </p>

</div>
</div>
<a id="ad724708deadff6109ce820805d1ccd30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad724708deadff6109ce820805d1ccd30">&#9670;&nbsp;</a></span>gbSkipSettingsUpdate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_flag gbSkipSettingsUpdate = ATOMIC_FLAG_INIT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates if it is needed in the main thread to process updates to settings. </p>

</div>
</div>
<a id="ad95e1ddc365d2cbb85b5dc4737ad2e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad95e1ddc365d2cbb85b5dc4737ad2e5d">&#9670;&nbsp;</a></span>gmutexData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex gmutexData</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the mutex controlling access to all data between network and main thread </p>

</div>
</div>
<a id="ae34c2f3cb61256993d03e7d8bf46b1c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae34c2f3cb61256993d03e7d8bf46b1c1">&#9670;&nbsp;</a></span>nowFlightLoop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::time_point&lt;std::chrono::steady_clock&gt; nowFlightLoop</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contains 'now' at the time the flight loop starts. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
